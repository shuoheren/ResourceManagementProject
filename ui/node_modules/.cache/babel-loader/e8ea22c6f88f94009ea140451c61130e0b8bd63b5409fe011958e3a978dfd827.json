{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shuohe/Desktop/ResourceManagementProject/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shuohe/Desktop/ResourceManagementProject/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/shuohe/Desktop/ResourceManagementProject/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";// You need to install axios using npm or yarn\nimport\"./ResetPassword.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResetPassword(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),verificationNumber=_useState6[0],setVerificationNumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),newPassword=_useState8[0],setNewPassword=_useState8[1];var resetPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(verificationNumber!==\"1234\")){_context.next=3;break;}alert(\"Error: Invalid verification number.\");return _context.abrupt(\"return\");case 3:_context.prev=3;_context.next=6;return axios.put(\"http://localhost:8085/users/reset-password\",{username:username,email:email,newPassword:newPassword});case 6:response=_context.sent;if(response.data.success){alert(\"Password reset successfully.\");redirectToLogin();}else{alert(response.data.message||\"Error resetting password.\");}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);alert(\"An error occurred while resetting the password.\");case 13:case\"end\":return _context.stop();}},_callee,null,[[3,10]]);}));return function resetPassword(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"reset-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Verification number (1234)\",value:verificationNumber,onChange:function onChange(e){return setVerificationNumber(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"New Password\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"a\",{onClick:redirectToLogin,className:\"reset-link\",children:\"Go to Login Page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetPassword,className:\"reset-button\",children:\"Reset Password\"})]});}var redirectToLogin=function redirectToLogin(){window.location.href=\"http://localhost:3000\";};export default ResetPassword;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ResetPassword","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","verificationNumber","setVerificationNumber","_useState7","_useState8","newPassword","setNewPassword","resetPassword","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","alert","abrupt","put","sent","data","success","redirectToLogin","message","t0","stop","apply","arguments","className","children","type","placeholder","value","onChange","e","target","onClick","window","location","href"],"sources":["/Users/shuohe/Desktop/ResourceManagementProject/ui/src/Pages/ResetPassword/ResetPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\"; // You need to install axios using npm or yarn\nimport \"./ResetPassword.css\";\nfunction ResetPassword() {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [verificationNumber, setVerificationNumber] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n\n  const resetPassword = async () => {\n    if (verificationNumber !== \"1234\") {\n      alert(\"Error: Invalid verification number.\");\n      return;\n    }\n\n    try {\n      const response = await axios.put(\n        \"http://localhost:8085/users/reset-password\",\n        {\n          username,\n          email,\n          newPassword,\n        }\n      );\n\n      if (response.data.success) {\n        alert(\"Password reset successfully.\");\n        redirectToLogin();\n      } else {\n        alert(response.data.message || \"Error resetting password.\");\n      }\n    } catch (error) {\n      alert(\"An error occurred while resetting the password.\");\n    }\n  };\n\n  return (\n    <div className=\"reset-container\">\n      <input\n        type=\"text\"\n        placeholder=\"Username\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n        className=\"reset-input\"\n      />\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        className=\"reset-input\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Verification number (1234)\"\n        value={verificationNumber}\n        onChange={(e) => setVerificationNumber(e.target.value)}\n        className=\"reset-input\"\n      />\n      <input\n        type=\"password\"\n        placeholder=\"New Password\"\n        value={newPassword}\n        onChange={(e) => setNewPassword(e.target.value)}\n        className=\"reset-input\"\n      />\n      <a onClick={redirectToLogin} className=\"reset-link\">\n        Go to Login Page\n      </a>\n      <button onClick={resetPassword} className=\"reset-button\">\n        Reset Password\n      </button>\n    </div>\n  );\n}\n\nconst redirectToLogin = () => {\n  window.location.href = \"http://localhost:3000\";\n};\n\nexport default ResetPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}