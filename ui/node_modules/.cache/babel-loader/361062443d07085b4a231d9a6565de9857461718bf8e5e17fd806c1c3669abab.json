{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shuohe/Desktop/ResourceManagementProject/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shuohe/Desktop/ResourceManagementProject/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/shuohe/Desktop/ResourceManagementProject/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";// You need to install axios using npm or yarn\nimport\"./ResetPassword.css\";import{BASE_URL}from\"../../config/urls\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResetPassword(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),verificationNumber=_useState6[0],setVerificationNumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),newPassword=_useState8[0],setNewPassword=_useState8[1];var resetPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(verificationNumber!==\"1234\")){_context.next=3;break;}alert(\"Error: Invalid verification number.\");return _context.abrupt(\"return\");case 3:_context.prev=3;_context.next=6;return axios.put(\"\".concat(BASE_URL,\"/users/reset-password\"),{username:username,email:email,newPassword:newPassword});case 6:response=_context.sent;if(response.data.success){alert(\"Password reset successfully.\");redirectToLogin();}else{alert(response.data.message||\"Error resetting password.\");}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);alert(\"An error occurred while resetting the password.\");case 13:case\"end\":return _context.stop();}},_callee,null,[[3,10]]);}));return function resetPassword(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"reset-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Verification number (1234)\",value:verificationNumber,onChange:function onChange(e){return setVerificationNumber(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"New Password\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);},className:\"reset-input\"}),/*#__PURE__*/_jsx(\"a\",{onClick:redirectToLogin,className:\"reset-link\",children:\"Go to Login Page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetPassword,className:\"reset-button\",children:\"Reset Password\"})]});}var redirectToLogin=function redirectToLogin(){// window.location.href = \"http://localhost:3000\";\n};export default ResetPassword;","map":{"version":3,"names":["React","useState","axios","BASE_URL","jsx","_jsx","jsxs","_jsxs","ResetPassword","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","verificationNumber","setVerificationNumber","_useState7","_useState8","newPassword","setNewPassword","resetPassword","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","alert","abrupt","put","concat","sent","data","success","redirectToLogin","message","t0","stop","apply","arguments","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["/Users/shuohe/Desktop/ResourceManagementProject/ui/src/Pages/ResetPassword/ResetPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\"; // You need to install axios using npm or yarn\nimport \"./ResetPassword.css\";\nimport { BASE_URL } from \"../../config/urls\";\nfunction ResetPassword() {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [verificationNumber, setVerificationNumber] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n\n  const resetPassword = async () => {\n    if (verificationNumber !== \"1234\") {\n      alert(\"Error: Invalid verification number.\");\n      return;\n    }\n\n    try {\n      const response = await axios.put(`${BASE_URL}/users/reset-password`, {\n        username,\n        email,\n        newPassword,\n      });\n\n      if (response.data.success) {\n        alert(\"Password reset successfully.\");\n        redirectToLogin();\n      } else {\n        alert(response.data.message || \"Error resetting password.\");\n      }\n    } catch (error) {\n      alert(\"An error occurred while resetting the password.\");\n    }\n  };\n\n  return (\n    <div className=\"reset-container\">\n      <input\n        type=\"text\"\n        placeholder=\"Username\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n        className=\"reset-input\"\n      />\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        className=\"reset-input\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Verification number (1234)\"\n        value={verificationNumber}\n        onChange={(e) => setVerificationNumber(e.target.value)}\n        className=\"reset-input\"\n      />\n      <input\n        type=\"password\"\n        placeholder=\"New Password\"\n        value={newPassword}\n        onChange={(e) => setNewPassword(e.target.value)}\n        className=\"reset-input\"\n      />\n      <a onClick={redirectToLogin} className=\"reset-link\">\n        Go to Login Page\n      </a>\n      <button onClick={resetPassword} className=\"reset-button\">\n        Reset Password\n      </button>\n    </div>\n  );\n}\n\nconst redirectToLogin = () => {\n  // window.location.href = \"http://localhost:3000\";\n};\n\nexport default ResetPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}